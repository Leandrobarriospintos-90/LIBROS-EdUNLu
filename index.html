<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aniversario Editorial Universitaria</title>
    <!-- Tailwind CSS CDN for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for Inter font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* --- ESTILOS GENERALES Y RESETEO --- */
        html {
            scroll-behavior: smooth;
        }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif; /* Usando Inter como base para todo el body */
            color: #fff;
            background-color: #0da353; /* Color de fondo inicial para la sección de inicio */
            overscroll-behavior-y: none; /* Evita el efecto "rebote" al final del scroll */
            transition: background-color 0.8s ease; /* Transición suave para el cambio de color de fondo */
        }

        /* Custom CSS for 3D Slider effect - preserving original logic */
        .banner {
            width: 100%;
            height: 100vh;
            text-align: center;
            overflow: hidden;
            position: relative;
            background-color: #f0f0f0; /* Light background */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .banner .slider {
            position: absolute;
            width: 200px; /* Base width of each book cover */
            height: 280px; /* Base height of each book cover */
            top: 15%; /* Adjusted for better vertical centering */
            left: calc(50% - 100px); /* Center horizontally */
            transform-style: preserve-3d;
            transform: perspective(1000px);
            animation: autoRun 20s linear infinite; /* Animation for automatic rotation */
            z-index: 20; /* Aumentado el z-index para que el slider esté por encima del logo */
        }

        @keyframes autoRun {
            from {
                transform: perspective(1000px) rotateX(-16deg) rotateY(0deg);
            }
            to {
                transform: perspective(1000px) rotateX(-16deg) rotateY(360deg);
            }
        }

        .banner .slider .item {
            position: absolute;
            inset: 0 0 0 0;
            /* Calculates position and depth for 3D effect based on CSS variables */
            transform:
                rotateY(calc((var(--position) - 1) * (360 / var(--quantity)) * 1deg))
                translateZ(550px); /* Distance from the center of the circle */
            border-radius: 8px; /* Rounded corners for book covers */
            overflow: hidden; /* Ensure image doesn't spill out */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); /* Soft shadow for depth */
            transition: transform 0.5s ease-out; /* Smooth transition for potential future interactions */
        }

        .banner .slider .item img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ensures images cover the item area */
            border-radius: 8px; /* Apply rounded corners to images too */
            transition: opacity 0.5s ease-in-out; /* Added for smooth transitions */
        }

        .banner .content {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: min(1400px, 100vw);
            height: max-content;
            padding-bottom: 80px; /* Space from bottom */
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            z-index: 1;
        }

        .banner .content .author-info {
            text-align: right;
            max-width: 250px;
            padding-right: 20px;
        }

        .banner .content .author-info h2 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #444;
        }
        .banner .content .author-info p {
            font-size: 1.1em;
            color: #666;
            line-height: 1.4;
        }

        /* Responsive adjustments for banner */
        @media screen and (max-width: 1023px) {
            .banner .slider {
                width: 160px;
                height: 220px;
                left: calc(50% - 80px);
                top: 10%;
            }
            .banner .slider .item {
                transform:
                    rotateY(calc((var(--position) - 1) * (360 / var(--quantity)) * 1deg))
                    translateZ(300px);
            }
            .banner .content .author-info {
                text-align: center;
                max-width: unset;
                width: 100%;
                padding: 0 30px;
                margin-top: 30px;
            }
        }

        @media screen and (max-width: 767px) {
            .banner {
                height: 80vh;
            }
            .banner .slider {
                width: 120px;
                height: 180px;
                left: calc(50% - 60px);
                top: 8%;
            }
            .banner .slider .item {
                transform:
                    rotateY(calc((var(--position) - 1) * (360 / var(--quantity)) * 1deg))
                    translateZ(200px);
            }
            .banner .content {
                padding-bottom: 40px;
            }
            .banner .content .author-info h2 {
                font-size: 1.8em;
            }
            .banner .content .author-info p {
                font-size: 0.9em;
            }
        }

        /* Timeline specific styles */
        .timeline {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 0;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: #e2e8f0; /* Tailwind gray-200 */
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
        }

        .timeline-container {
            padding: 10px 40px;
            position: relative;
            background-color: inherit;
            width: 50%;
        }

        .timeline-container::after {
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            right: -17px;
            background-color: #cbd5e1; /* Tailwind gray-300 */
            border: 4px solid #4299e1; /* Tailwind blue-500 */
            top: 15px;
            border-radius: 50%;
            z-index: 1;
        }

        .left-timeline {
            left: 0;
        }

        .right-timeline {
            left: 50%;
        }

        .left-timeline::before {
            content: " ";
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            right: 30px;
            border: medium solid white;
            border-width: 10px 0 10px 10px;
            border-color: transparent transparent transparent white;
        }

        .right-timeline::before {
            content: " ";
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            left: 30px;
            border: medium solid white;
            border-width: 10px 10px 10px 0;
            border-color: transparent white transparent transparent;
        }

        .right-timeline::after {
            left: -16px;
        }

        .timeline-content {
            padding: 20px 30px;
            background-color: white;
            position: relative;
            border-radius: 6px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* Media queries for timeline responsiveness */
        @media screen and (max-width: 768px) {
            .timeline::after {
                left: 31px;
            }
            .timeline-container {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }
            .timeline-container::before {
                left: 60px;
                border: medium solid white;
                border-width: 10px 10px 10px 0;
                border-color: transparent white transparent transparent;
            }
            .left-timeline::after, .right-timeline::after {
                left: 15px;
            }
            .right-timeline {
                left: 0%;
            }
        }

        /* --- IMAGEN FLOTANTE (NUEVOS ESTILOS) --- */
        #floating-image {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            max-width: 30vw;
            max-height: 40vh;
            object-fit: contain;
            z-index: 1000;
            transition: opacity 0.4s ease-in-out;
            pointer-events: none; /* La imagen no interfiere con el ratón */
        }

        .fade-out {
            opacity: 0;
        }

        /* --- ESTRUCTURA DE SECCIONES Y CONTENIDO (NUEVOS ESTILOS) --- */
        .section {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 2rem;
            box-sizing: border-box;
        }

        .content-wrapper {
            display: flex;
            justify-content: space-between; /* Restaurado para espaciar text-left y text-right */
            align-items: center;
            width: 100%;
            max-width: 1400px; /* Ancho máximo para el contenido */
        }

        /* Nueva regla para centrar el content-wrapper específicamente en la sección de inicio */
        #inicio .content-wrapper {
            flex-direction: column; /* Apila el contador y el nuevo texto */
            justify-content: center; /* Centra horizontal y verticalmente el contenido */
            text-align: center; /* Asegura que el texto dentro esté centrado */
        }
        
        .text-left {
            flex-basis: 35%; /* Cada caja de texto ocupa el 35% del espacio */
            padding: 2rem;
            text-align: left; /* Alineación del texto a la izquierda */
        }

        .text-right {
            flex-basis: 35%; /* Cada caja de texto ocupa el 35% del espacio */
            padding: 2rem;
            text-align: right; /* Alineación del texto a la derecha */
        }

        .section h1 {
            font-size: 3rem;
            font-weight: bold;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
            margin: 0;
            line-height: 1.2; /* Reducido el interlineado para los títulos */
            color: #fff; /* Texto blanco para los títulos de sección */
        }

        .section p {
            font-size: 1.1rem;
            line-height: 1.6;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);
            margin: 0;
            color: #fff; /* Texto blanco para los párrafos de sección */
        }

        /* Styles for the new counter */
        .counter-display {
            font-size: 5rem; /* Large font size for visibility */
            font-weight: 800; /* Extra bold */
            color: #fff; /* White color */
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
            margin: 0 2rem; /* Add some horizontal margin */
            flex-shrink: 0; /* Prevent it from shrinking */
            text-align: center; /* Centrar el texto dentro del contador */
        }

        /* Responsive adjustments for collections text */
        @media (max-width: 750px) { /* Ajustado a 750px como se solicitó */
            .counter-display {
                font-size: 3rem;
                margin-top: 1rem; /* Space from stacked text */
                margin-bottom: 1rem;
            }
            .content-wrapper {
                flex-direction: column; /* Stack elements vertically */
                justify-content: center;
                text-align: center;
            }

            .text-left, .text-right {
                flex-basis: auto; /* Ancho automático */
                text-align: center; /* Centrar el texto para móviles */
                padding: 1rem;
            }

            .section h1 {
                font-size: 2.5rem;
                margin-bottom: 1rem;
            }

            .section p {
                font-size: 1rem;
            }

            #floating-image {
                width: 180px;
                height: 180px;
                max-width: 45vw;
                max-height: 45vh;
            }
        }

        /* Carousel specific styles */
        .carousel-container {
            position: relative;
            width: 80%; /* Adjust as needed */
            max-width: 900px;
            height: 500px; /* Fixed height for the carousel */
            margin: 0 auto;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-item {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #333; /* Fallback for images */
        }

        .carousel-item.active {
            opacity: 1;
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ensures image covers the area, cropping if necessary */
            border-radius: 12px;
        }

        .carousel-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: transparent; /* Removed circular background */
            color: white;
            border: none;
            padding: 10px; /* Adjusted padding */
            cursor: pointer;
            z-index: 10;
            font-size: 1.5rem;
            transition: background-color 0.3s ease;
        }

        .carousel-button:hover {
            background-color: rgba(0, 0, 0, 0.3); /* Slightly visible on hover */
        }

        .carousel-button.prev {
            left: 10px;
        }

        .carousel-button.next {
            right: 10px;
        }

        /* Responsive adjustments for carousel */
        @media (max-width: 768px) {
            .carousel-container {
                width: 95%;
                height: 350px; /* Adjust height for smaller screens */
            }
            .carousel-button {
                padding: 10px;
                font-size: 1.2rem;
            }
        }


        /* --- COLORES DE FONDO PARA CADA SECCIÓN (NUEVOS ESTILOS) --- */
        #inicio { background-color: #0da353; }
        #nosotros { background-color: #006bcd; /* Azul para Aulas Universitarias */ }
        #servicios { background-color: #FF0000; /* Rojo para Ciencias */ }
        #galeria { background-color: #ffc300; /* Amarillo para Sociedad en Movimiento */ }
        #our-history-images {
            background-color: #FFFFFF; /* Cambiado a blanco para esta sección */
            color: #2F4F4F; /* Ajusta el color del texto para que contraste con el blanco */
        }
        
        /* Ensure timeline section background is white */
        #timeline-section {
            background-color: #FFFFFF;
        }

    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
    <!-- Header Section -->
    <header class="w-full p-4 bg-white shadow-md flex justify-between items-center z-30 relative">
        <div class="flex items-center space-x-2">
            <h1 class="text-xl font-bold text-gray-900">Editorial Universitaria</h1>
            <!-- You can add a logo here if you have one -->
            <!-- <img src="images/logo.png" alt="Logo" class="h-8"> -->
        </div>
        <nav>
            <ul class="flex space-x-4">
                <li><a href="#" class="text-gray-600 hover:text-blue-600 transition duration-300">Inicio</a></li>
                <li><a href="#" class="text-gray-600 hover:text-blue-600 transition duration-300">Libros</a></li>
                <li><a href="#" class="text-gray-600 hover:text-blue-600 transition duration-300">Contacto</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Banner Section with 3D Slider -->
    <div class="banner">
        <!-- SVG Logo in the center of the covers -->
        <img src="https://leandrobarriospintos-90.github.io/catalogo-online/logos/original-edunlu-svg.svg"
             alt="Logo Editorial Universitaria"
             class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 object-contain"
             style="z-index: 10;"> <!-- Z-index ajustado para que el logo esté detrás del slider cuando las portadas están al frente -->

        <!-- 3D Slider Container -->
        <div class="slider" id="bookSlider">
            <!-- Book Cover Items (replace with your actual book cover images) -->
            <!-- The '--position' CSS variable is crucial for the 3D rotation -->
            <div class="item" style="--position: 1; --quantity: 8;">
                <img src="https://leandrobarriospintos-90.github.io/catalogo-online/tapas/1-g.gif" alt="Portada Libro 1">
            </div>
            <div class="item" style="--position: 2; --quantity: 8;">
                <img src="https://leandrobarriospintos-90.github.io/catalogo-online/tapas/2-g.gif" alt="Portada Libro 2">
            </div>
            <div class="item" style="--position: 3; --quantity: 8;">
                <img src="https://leandrobarriospintos-90.github.io/catalogo-online/tapas/3-g.gif" alt="Portada Libro 3">
            </div>
            <div class="item" style="--position: 4; --quantity: 8;">
                <img src="https://leandrobarriospintos-90.github.io/catalogo-online/tapas/4-g.gif" alt="Portada Libro 4">
            </div>
            <div class="item" style="--position: 5; --quantity: 8;">
                <img src="https://leandrobarriospintos-90.github.io/catalogo-online/tapas/5-g.gif" alt="Portada Libro 5">
            </div>
            <div class="item" style="--position: 6; --quantity: 8;">
                <img src="https://leandrobarriospintos-90.github.io/catalogo-online/tapas/6-g.gif" alt="Portada Libro 6">
            </div>
            <div class="item" style="--position: 7; --quantity: 8;">
                <img src="https://leandrobarriospintos-90.github.io/catalogo-online/tapas/7-g.gif" alt="Portada Libro 7">
            </div>
            <div class="item" style="--position: 8; --quantity: 8;">
                <img src="https://leandrobarriospintos-90.github.io/catalogo-online/tapas/8-g.gif" alt="Portada Libro 8">
            </div>
        </div>

        <!-- Content Area below the slider - only author info remains -->
        <div class="content">
            <div class="author-info flex flex-col items-center md:items-end">
                <h2 class="text-3xl font-bold" style="color: #0da353;">10 AÑOS</h2>
                <p class="text-lg text-gray-500 mt-2">
                    Impulsando el conocimiento, la cultura y el saber universitario.
                </p>
            </div>
        </div>
    </div>

    <!-- La imagen flotante sigue siendo un único elemento global -->
    <img id="floating-image"
                 src="https://leandrobarriospintos-90.github.io/catalogo-online/logos/dark-edunlu-svg.svg"
                 alt="Ilustración de la sección actual"
                 onerror="this.onerror=null;this.src='https://placehold.co/400x400/CCCCCC/FFFFFF/png?text=Error';">

    <main>
        <section id="inicio" class="section">
            <div class="content-wrapper">
                <!-- Contador en el centro -->
                <div class="counter-display" id="counterDisplay">
                    0
                </div>
                <!-- Nuevo nivel de lectura: "Conocé nuestras colecciones" -->
                <h2 class="text-3xl text-white font-semibold mt-4">Conocé nuestras colecciones</h2>
            </div>
        </section>

        <section id="nosotros" class="section">
            <div class="content-wrapper">
                <div class="text-left">
                    <h1>Colección Aulas Universitarias</h1>
                </div>
                <div class="text-left">
                    <p>Textos esenciales para la formación académica y el desarrollo profesional en diversas disciplinas. Son libros científicos creados como material de enseñanza para estudiantes, cuyo contenido también puede ser aprovechado por alumnos de otras instituciones de educación superior.</p>
                </div>
            </div>
        </section>

        <section id="servicios" class="section">
            <div class="content-wrapper">
                <div class="text-left">
                    <h1>Colección Ciencias</h1>
                </div>
                <div class="text-left">
                    <p>Investigaciones de vanguardia y divulgación científica en campos como la biología, física y química. Son libros científicos que resultan de la actividad de investigación, los debates y del intercambio académico. Es una herramienta central para concretar el aporte científico de la universidad.</p>
                </div>
            </div>
        </section>

        <section id="galeria" class="section">
            <div class="content-wrapper">
                <div class="text-left">
                    <h1>Colección Sociedad en Movimiento</h1>
                </div>
                <div class="text-left">
                    <p>Obras que analizan y reflexionan sobre los cambios sociales, culturales y políticos contemporáneos. Incluye textos literarios y materiales de divulgación del patrimonio cultural e institucional.</p>
                </div>
            </div>
        </section>

        <!-- Nueva sección: Nuestra Historia en Imágenes (Carrusel de fotografías) -->
        <section id="our-history-images" class="section flex-col text-center justify-center p-8">
            <h2 class="text-4xl font-bold mb-8 text-gray-900">Nuestra Historia en Imágenes</h2>
            <div class="carousel-container" id="historyCarousel">
                <!-- Carousel Items (example images, replace with your actual history images) -->
                <div class="carousel-item active">
                    <img src="https://placehold.co/900x500/ADD8E6/000000?text=Fundacion+Editorial" alt="Fundación Editorial">
                </div>
                <div class="carousel-item">
                    <img src="https://placehold.co/900x500/90EE90/000000?text=Primeras+Publicaciones" alt="Primeras Publicaciones">
                </div>
                <div class="carousel-item">
                    <img src="https://placehold.co/900x500/FFD700/000000?text=Eventos+y+Ferias" alt="Eventos y Ferias del Libro">
                </div>
                <div class="carousel-item">
                    <img src="https://placehold.co/900x500/DDA0DD/000000?text=Aniversario+Especial" alt="Celebración de Aniversario">
                </div>
                
                <!-- Navigation Buttons -->
                <button class="carousel-button prev" aria-label="Previous image">&#10094;</button>
                <button class="carousel-button next" aria-label="Next image">&#10095;</button>
            </div>
        </section>
    </main>

    <!-- Sección de Cronología / Línea de Tiempo -->
    <section class="py-16 bg-white" id="timeline-section">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-gray-900 mb-12">Nuestra Historia</h2>
            <div class="timeline">
                <div class="timeline-container left-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">1975: Fundación</h3>
                        <p class="text-gray-600">Creación de la Editorial Universitaria, con el objetivo de difundir el conocimiento académico.</p>
                    </div>
                </div>
                <div class="timeline-container right-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">1985: Primera Colección</h3>
                        <p class="text-gray-600">Lanzamiento de la "Colección Aulas Universitarias", un pilar fundamental para la enseñanza.</p>
                    </div>
                </div>
                <div class="timeline-container left-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">1998: Expansión Digital</h3>
                        <p class="text-gray-600">Inicio de la digitalización de nuestro catálogo, ampliando el acceso a nuestras publicaciones.</p>
                    </div>
                </div>
                <div class="timeline-container right-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2010: Reconocimiento</h3>
                        <p class="text-xl font-semibold text-gray-800 mb-2">La editorial recibe un premio nacional por su contribución a la cultura y la investigación.</p>
                    </div>
                </div>
                <div class="timeline-container left-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2025: 50 Aniversario</h3>
                        <p class="text-gray-600">Celebramos medio siglo de trayectoria, consolidando nuestro compromiso con el saber.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de Llamada a la Acción -->
    <section class="py-12 bg-gray-200 text-center">
        <h2 class="text-3xl font-bold text-gray-900 mb-6">¿Interesado en nuestro catálogo completo?</h2>
        <a href="https://example.com/catalogo.pdf" target="_blank" class="inline-block bg-green-600 text-white text-xl font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-green-700 transition duration-300">
            Ver catálogo completo
        </a>
    </section>

    <!-- Pie de Página (Footer) -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Información Institucional -->
            <div class="col-span-1">
                <h3 class="text-xl font-semibold mb-4">Editorial Universitaria</h3>
                <p class="text-gray-400 text-sm">
                    Comprometidos con la difusión del conocimiento y la cultura universitaria desde 1975.
                </p>
                <p class="text-gray-400 text-sm mt-2">
                    Todos los derechos reservados &copy; 2025
                </p>
            </div>

            <!-- Redes Sociales -->
            <div class="col-span-1">
                <h3 class="text-xl font-semibold mb-4">Síguenos</h3>
                <ul class="flex space-x-4">
                    <li><a href="https://facebook.com/editorialuniversitaria" target="_blank" class="text-gray-400 hover:text-white transition duration-300">Facebook</a></li>
                    <li><a href="https://twitter.com/editorialuni" target="_blank" class="text-gray-400 hover:text-white transition duration-300">Twitter</a></li>
                    <li><a href="https://instagram.com/editorialuniversitaria" target="_blank" class="text-gray-400 hover:text-white transition duration-300">Instagram</a></li>
                    <li><a href="https://linkedin.com/company/editorialuniversitaria" target="_blank" class="text-gray-400 hover:text-white transition duration-300">LinkedIn</a></li>
                </ul>
            </div>

            <!-- Contacto -->
            <div class="col-span-1">
                <h3 class="text-xl font-semibold mb-4">Contacto</h3>
                <p class="text-gray-400 text-sm">Email: info@editorialuniversitaria.com</p>
                <p class="text-400 text-sm">Dirección: Calle Ficticia 123, Ciudad Universitaria</p>
                <p class="text-gray-400 text-sm">Teléfono: +54 9 11 1234 5678</p>
                <p class="text-gray-400 text-sm mt-2"><a href="https://www.editorialuniversitaria.com" target="_blank" class="hover:underline">www.editorialuniversitaria.com</a></p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Define todas las listas de portadas para el slider 3D
            const allBookCovers = [
                // Lista 1 (portadas iniciales)
                [
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/1-g.gif", alt: "Portada Libro 1" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/2-g.gif", alt: "Portada Libro 2" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/3-g.gif", alt: "Portada Libro 3" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/4-g.gif", alt: "Portada Libro 4" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/5-g.gif", alt: "Portada Libro 5" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/6-g.gif", alt: "Portada Libro 6" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/7-g.gif", alt: "Portada Libro 7" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/8-g.gif", alt: "Portada Libro 8" },
                ],
                // Lista 2 (ejemplo de nuevas portadas)
                [
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/cuenca-g.gif", alt: "Portada Novela A" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/eros-g.gif", alt: "Portada Ensayo B" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/esas-g.gif", alt: "Portada Poesía C" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/esc-populares-g.gif", alt: "Portada Historia D" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/estacion-g.gif", alt: "Portada Ciencia E" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/invernales-g.gif", alt: "Portada Arte F" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/miradas-g.gif", alt: "Portada Filosofía G" },
                    { src: "https://leandrobarriospintos-90.github.io/catalogo-online/tapas/turismo-g.gif", alt: "Portada Biografía H" },
                ],
                // Lista 3 (otro ejemplo de nuevas portadas)
                [
                    { src: "https://placehold.co/200x280/87CEEB/ffffff?text=Infantil+I", alt: "Portada Infantil I" },
                    { src: "https://placehold.co/200x280/F08080/ffffff?text=Suspense+J", alt: "Portada Suspense J" },
                    { src: "https://placehold.co/200x280/D8BFD8/ffffff?text=Fantasia+K", alt: "Portada Fantasía K" },
                    { src: "https://placehold.co/200x280/F5DEB3/ffffff?text=Cocina+L", alt: "Portada Cocina L" },
                    { src: "https://placehold.co/200x280/C0C0C0/ffffff?text=Viajes+M", alt: "Portada Viajes M" },
                    { src: "https://placehold.co/200x280/AFEEEE/ffffff?text=Negocios+N", alt: "Portada Negocios N" },
                    { src: "https://placehold.co/200x280/FFB6C1/ffffff?text=Salud+O", alt: "Portada Salud O" },
                    { src: "https://placehold.co/200x280/DA70D6/ffffff?text=Humor+P", alt: "Portada Humor P" },
                ]
            ];

            let currentListIndex = 0;
            const slider = document.getElementById('bookSlider');

            // Función para actualizar las imágenes del slider 3D
            function updateSliderImages() {
                currentListIndex = (currentListIndex + 1) % allBookCovers.length;
                const nextList = allBookCovers[currentListIndex];
                const items = slider.querySelectorAll('.item img');

                items.forEach(img => {
                    img.style.opacity = '0';
                });

                setTimeout(() => {
                    items.forEach((img, index) => {
                        if (nextList[index]) {
                            img.src = nextList[index].src;
                            img.alt = nextList[index].alt;
                        }
                        img.style.opacity = '1';
                    });
                }, 500);
            }

            if (slider) {
                slider.addEventListener('animationiteration', (event) => {
                    if (event.animationName === 'autoRun') {
                        updateSliderImages();
                    }
                });
            }

            // JavaScript para el carrusel de imágenes
            const carouselItems = document.querySelectorAll('#historyCarousel .carousel-item');
            const prevButton = document.querySelector('#historyCarousel .carousel-button.prev');
            const nextButton = document.querySelector('#historyCarousel .carousel-button.next');
            let currentCarouselIndex = 0;

            function showCarouselItem(index) {
                carouselItems.forEach((item, i) => {
                    item.classList.remove('active');
                    if (i === index) {
                        item.classList.add('active');
                    }
                });
            }

            prevButton.addEventListener('click', () => {
                currentCarouselIndex = (currentCarouselIndex - 1 + carouselItems.length) % carouselItems.length;
                showCarouselItem(currentCarouselIndex);
            });

            nextButton.addEventListener('click', () => {
                currentCarouselIndex = (currentCarouselIndex + 1) % carouselItems.length;
                showCarouselItem(currentCarouselIndex);
            });

            // Inicializar el carrusel para mostrar el primer elemento
            showCarouselItem(currentCarouselIndex);


            // JavaScript para el cambio de fondo y la imagen flotante
            const sections = document.querySelectorAll('main .section, #timeline-section'); // Incluye la sección de línea de tiempo
            const floatingImage = document.getElementById('floating-image');
            const body = document.body;

            // Definir los colores de fondo para cada sección por su ID
            const sectionColors = {
                'inicio': '#0da353',
                'nosotros': '#006bcd',
                'servicios': '#FF0000',
                'galeria': '#ffc300',
                'our-history-images': '#FFFFFF', // Color para la nueva sección de carrusel (blanco)
                'timeline-section': '#FFFFFF' // La sección de línea de tiempo es blanca
            };

            // Secciones en las que la imagen flotante debe ser visible
            const sectionsForFloatingImageVisibility = ['servicios', 'galeria', 'our-history-images', 'timeline-section'];

            const observer = new IntersectionObserver((entries) => {
                let anyVisibleFloatingImageSection = false;
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const sectionId = entry.target.id;

                        // Cambiar el color de fondo del body
                        if (sectionColors[sectionId]) {
                            body.style.backgroundColor = sectionColors[sectionId];
                        }

                        // Comprobar si esta sección intersectante debe mostrar la imagen flotante
                        if (sectionsForFloatingImageVisibility.includes(sectionId)) {
                            anyVisibleFloatingImageSection = true;
                        }
                    }
                });

                // Después de verificar todas las entradas que intersectan, decide la visibilidad de la imagen
                if (anyVisibleFloatingImageSection) {
                    floatingImage.classList.remove('fade-out');
                } else {
                    // Solo desvanece si ninguna de las secciones deseadas está intersectando actualmente
                    floatingImage.classList.add('fade-out');
                }
            }, { threshold: 0.1 }); // Umbral pequeño para detectar entrada/salida rápidamente

            // Observar cada sección relevante
            sections.forEach(section => {
                observer.observe(section);
            });

            // Inicialmente, ocultar la imagen si la sección de inicio es la primera visible.
            // Esto asegura que la imagen no aparezca hasta la sección "Ciencias".
            const initialCheckObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && (entry.target.id === 'inicio' || entry.target.id === 'nosotros')) {
                        floatingImage.classList.add('fade-out');
                    }
                });
            }, { threshold: 0.1 });
            initialCheckObserver.observe(document.getElementById('inicio'));
            initialCheckObserver.observe(document.getElementById('nosotros'));

            // Counter animation logic
            const counterElement = document.getElementById('counterDisplay');
            let hasAnimated = false; // Flag to ensure animation runs only once

            const counterObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !hasAnimated) {
                        animateCounter(counterElement, 100, ' +', ' OBRAS EDITADAS');
                        hasAnimated = true; // Set flag to true after animation starts
                        counterObserver.unobserve(entry.target); // Stop observing after animation
                    }
                });
            }, { threshold: 0.5 }); // Trigger when 50% of the element is visible

            counterObserver.observe(counterElement);

            function animateCounter(element, target, prefix = '', suffix = '') {
                let current = 0;
                const duration = 2000; // 2 seconds
                const stepTime = 10; // milliseconds
                const increment = target / (duration / stepTime);

                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        clearInterval(timer);
                        current = target;
                    }
                    element.textContent = prefix + Math.floor(current) + suffix;
                }, stepTime);
            }
        });
    </script>
</body>
</html>
